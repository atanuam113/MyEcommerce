{% extends 'Mycart/basic.html' %}

{% block title %} {{Mycart.product_name}} View{% endblock %}

{% block body%}
<div class="container my-4">
    <div class="row ">
        <div class="col-md-4">
            <div class="row">
                <img src="/media/{{product.image}}" alt="" height = "300px" >
            </div>
            <div class="row">
                <button class="btn btn-primary my-2">Buy Now</button>
                <button class="btn btn-primary my-2 mx-2">Add to Cart</button>
            </div>
        </div>
        <div class="col-md-8">
            <h4>{{product.product_name}}</h4>
            <p>
                <b>M.R.P: </b>{{product.price}}
            </p>
            <p>
                {{product.desc}}
            </p>
        </div>
    </div>
</div>


{%endblock%}

{% block js %}

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<!-- <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script> -->
<script>
  if(localStorage.getItem('cart') == null)
  {
    var cart = {};
  }
  else
  {
    cart = JSON.parse(localStorage.getItem('cart'));
    document.getElementById('cart').innerHTML = Object.keys(cart).length;
  }
  $('.cart').click(function(){
    var idstr = this.id.toString();
  if (cart[idstr] != undefined)
    {
      cart[idstr] = cart[idstr] + 1;
    }
  else
    {
      cart[idstr] = 1;
    }
    console.log(cart);
    localStorage.setItem('cart',JSON.stringify(cart));
    document.getElementById('cart').innerHTML = Object.keys(cart).length;
});
</script>

{% endblock %}